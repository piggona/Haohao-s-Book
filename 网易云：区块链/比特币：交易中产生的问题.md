# 比特币：交易中产生的问题

> 比特币交易：A->B
>
> - B要告诉A自己的地址
> - A要说明交易的数量及发送地址，并签名
> - A要告诉自己的公钥给所有节点来验证
> - A要证明自己交易所使用的output(币的来源)

1. ## 需要匹配A提供的公钥与其output所对应的公钥

   将A的输入脚本与A证明自己交易的output脚本相匹配，如果匹配成功，则可以交易（说明来源正常）

2. ## 区块的结构

   - Block Header:所有的连接概念（区块取哈希，哈希链表）都是以header为单位的
     - version
     - Hash of previous block header
     - Merkle root hash
     - target（挖矿的难度阈值）:目标阈值的编码nBits
     - Nonce：$ H(block header)<=target $
   - Block Body
     - Transaction list

3. ## 轻节点(light node)&全节点(full node)

   严格来说，轻节点无法独立验证节点的合法性。

4. ## 分布式的共识(distributed consensus)